//---------------------------------------------------------------------------------------
// quick.ad
//
//---------------------------------------------------------------------------------------
// GT4 Prologue License Quick Menu Project
//
// Info: This script is a GT4 Prologue leftover that PD never bothered to clean up.
// The script had minor revisions throughout each GT4P build and eventually
// reached its final version (this one) some 2-3 months before the TGS 2004 build (Dated 6/22/2004).
// The exact game that marked the final version of this script is unknown; the first accessible one
// appears to be the original December 2004 release of GT4 (Japan and Taiwan). From then on this
// was untouched yet carried over all the way into US GT4 Online.
// Decompiling this script is not very helpful in GT4 modding, but there are some scripting bits
// in here that might be useful to reference.
//---------------------------------------------------------------------------------------


//---------------------------------------------------------------------------------------
// module
//---------------------------------------------------------------------------------------


module PROJECT
{
    function getStartPage()
    {
        main::menu::MSystem::SetLoadingMode("default");
        var quick_work = main::menu::MQuickWork();
        if (quick_work.dispGuidePage == false)
		{
            return LicenseRoot;
		}
		else
		{
			return GuidePage;
		}
    }

	function onLoad(context)
	{
		var quick_work = main::menu::MQuickWork();
		var racecode = quick_work.raceLabel;
		print("===== QuickProject : Setup License Label : " + racecode + "\n");
		context.createRenderContext(1);
		var render_context = context.getRenderContext(0);
		render_context.transition = main::menu::MColorTransition();
		render_context.startPage(getStartPage());
	}
	
	function onUnload(context)
	{
	}
}
