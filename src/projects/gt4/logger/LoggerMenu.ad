module PROJECT::ROOT
{
	function onInitialize(context)
	{
		var quick_work = main::menu::MQuickWork();
		if (quick_work.CanLogger == false)
		{
			LoggerMenu::Pane::Logger.insensitive = true;
			LoggerMenu::Pane::Logger::Button.insensitive = true;
			LoggerMenu::Pane::Logger::Button::bgf.insensitive = true;
			LoggerMenu::Pane::Logger::Button::bgb.insensitive = true;
			
			LoggerMenu::Pane::TrackB.insensitive = true;
			LoggerMenu::Pane::TrackB::Button.insensitive = true;
			LoggerMenu::Pane::TrackB::Button::bgf.insensitive = true;
			LoggerMenu::Pane::Logger::Button::bgb.insensitive = true;
		}
		
		context.cursor_visible = true;
	}

	function onFinalize(context){}
	
	function close(context)
	{
		context.closePage(LoggerMenu);
		LoggerRoot::logger_mode(context);
	}
	
	function cancel(context)
	{
		main::sound.play("cancel");
		close(context);
	}
	
	function onCancel(context)
	{
		var quick_work = main::menu::MQuickWork();
		if (quick_work.CanLogger == true && LoggerRoot::analyzed == true)
			cancel(context);

		return EVENTRESULT_FILTER;
	}
}	

module PROJECT::ROOT::Pane::Logger::Button
{
	function onActivate(context)
	{
		main::sound.play("ok");
		context.closePage(LoggerMenu);
		LoggerRoot::logger_restart(context);
		return EVENTRESULT_FILTER;
	}
}

module PROJECT::ROOT::Pane::TrackA::Button
{
	function onActivate(context)	
	{
		main::sound.play("ok");
		LoggerRoot::load_mode(context, 0 /* track */);
		return EVENTRESULT_FILTER;
	}
}

module PROJECT::ROOT::Pane::TrackB::Button
{
	function onActivate(context)	
	{
		main::sound.play("ok");
		LoggerRoot::load_mode(context, 1 /* track */);
		return EVENTRESULT_FILTER;
	}
}	

module PROJECT::ROOT::Pane::Exit::Button
{
	function onActivate(context)	
	{
		main::sound.play("ok");
		LoggerRoot::exit(context);
		return EVENTRESULT_FILTER;
	}
}	
