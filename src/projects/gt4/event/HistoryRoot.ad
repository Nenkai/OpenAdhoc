module EventProject::HistoryRoot
{
	static selected_name = "";

	function onInitialize(context)
	{
	}

	function  onFinalize(context)
	{
	}


	function remember_focus()
	{
		var fwidget = HistoryRoot.getFocusedWidget();
		if (fwidget != nil)
			selected_name = fwidget.name;
	}
	
	function getCurrentCategory()
	{
		return "nissan";
	}
	
	function onCancel(context, item)
	{
		main::sound.play("cancel");
		remember_focus();
	
		context.transition.panOutIn(context);
		context.transition.syncOut(context);
		context.startPage(MethodRoot);
	
		return EVENTRESULT_FILTER;
	}


	function onActivate(context, item)
	{
		main::sound.play("ok");
		remember_focus();
	
		context.transition.panOutIn(context);
		context.transition.syncOut(context);
		context.startPage(CarRoot);
	
		return EVENTRESULT_FILTER;
	}
}