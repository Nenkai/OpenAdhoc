module PROJECT::ROOT
{
	static opened = false;

	function open(context, message)
	{
		main::menu::MMemorycardProgress::setProgress(0.0);
		ROOT::dialog::message.text = message;
		if (!opened)
			context.pushPage(ROOT);

		opened = true;
	}

	function close(context)
	{
		context.closePage(ROOT)
		opened = false;
	}

	function render(context)
	{
		while (true)
		{
			var progress = main::menu::MMemorycardProgress::progress(0.05);
			dialog::bar.w = dialog::bar_bg.w * progress;
			dialog::bar.texcoord_right = progress;
			yield;
		}
	}

	function setTarget(t)
	{
	}
}