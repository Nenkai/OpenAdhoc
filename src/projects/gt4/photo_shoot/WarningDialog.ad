module PhotoShootProject::WarningDialog
{
	function open(context, str)
	{
		WarningDialog.x = 160.0;
		WarningDialog.y = 480.0;
	
		message.text = str;
	
		context.pushPage(WarningDialog);
		WarningDialog.setFocus(OK);
	
		if (!WarningDialog.interpolateY(120.0, 0.4))
		{
			context.sync();
		}
		else
		{
			var update_context = context.getUpdateContext();
			update_context.enterEventLoop();
		}
	}

	function close(context)
	{
		WarningDialog.setFocus(nil);
	
		if (!WarningDialog.interpolateY(-WarningDialog.h, 0.4))
		{
			context.sync();
		}
		else
		{
			context.closePage(WarningDialog);
	
			var update_context = context.getUpdateContext();
			update_context.leaveEventLoop();
		}
	}

	function onCancel(context, event, item)
	{
		main::sound.play("cancel");
		close(context);
		return EVENTRESULT_FILTER;
	}
}

module PhotoShootProject::WarningDialog::OK
{
	function onActivate(context, event, item)
	{
		main::sound.play("ok");
		close(context);
		return EVENTRESULT_FILTER;
	}
}